<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link rel="stylesheet" href="dashboard.css">
    <title>Dashboard | LenSi</title>
    <!-- Add SortableJS for drag and drop functionality -->
    <script src="https://cdn.jsdelivr.net/npm/sortablejs@1.15.0/Sortable.min.js"></script>
</head>
<body>
    <nav class="sidebar">
        <div class="brand-logo">
            <object data="logo_white.svg" type="image/svg+xml" class="logo-svg"></object>
        </div>
        
        <!-- Admin Navigation - Updated with new French sections -->
        <ul class="nav-links admin-only">
            <li><a href="#dashboard" class="nav-link active" data-section="dashboard"><i class="fas fa-chart-pie"></i> Dashboard</a></li>
            <li><a href="#profiles" class="nav-link" data-section="profiles"><i class="fas fa-users"></i> Gestion de Profils</a></li>
            <li><a href="#projects" class="nav-link" data-section="projects"><i class="fas fa-tasks"></i> Gestion de Projets</a></li>
            <li><a href="#payments" class="nav-link" data-section="payments"><i class="fas fa-credit-card"></i> Système de Paiement</a></li>
            <li><a href="#blog" class="nav-link" data-section="blog"><i class="fas fa-newspaper"></i> Blog et Ressources</a></li>
            <li><a href="#support" class="nav-link" data-section="support"><i class="fas fa-headset"></i> Support et Assistance</a></li>
            <li><a href="#jobs" class="nav-link" data-section="jobs"><i class="fas fa-briefcase"></i> Offres d'Emploi</a></li>
        </ul>
        
        <!-- User Navigation - Updated with new French sections for regular users -->
        <ul class="nav-links user-only">
            <li><a href="#dashboard" class="nav-link active" data-section="dashboard"><i class="fas fa-chart-pie"></i> Dashboard</a></li>
            <li><a href="#myprofile" class="nav-link" data-section="myprofile"><i class="fas fa-user"></i> Mon Profil</a></li>
            <li><a href="#myprojects" class="nav-link" data-section="myprojects"><i class="fas fa-project-diagram"></i> Mes Projets</a></li>
            <li><a href="#mypayments" class="nav-link" data-section="mypayments"><i class="fas fa-wallet"></i> Mes Paiements</a></li>
            <li><a href="#resources" class="nav-link" data-section="resources"><i class="fas fa-book"></i> Ressources</a></li>
            <li><a href="#support" class="nav-link" data-section="support"><i class="fas fa-headset"></i> Support</a></li>
            <li><a href="#jobsearch" class="nav-link" data-section="jobsearch"><i class="fas fa-search"></i> Recherche d'Emploi</a></li>
        </ul>
    </nav>

    <main class="content">
        <header class="dashboard-header">
            <div class="header-left">
                <h1>Welcome back, <span id="userName">User</span>!</h1>
                <p class="user-role" id="userRole">User</p>
                <p class="date-today"></p>
            </div>
            <div class="header-actions">
                <div class="search-container">
                    <div class="search-bar">
                        <i class="fas fa-search"></i>
                        <input type="text" placeholder="Search for services, orders, users...">
                        <button class="search-filter-btn"><i class="fas fa-filter"></i></button>
                    </div>
                    <div class="search-results">
                        <!-- Search results will appear here dynamically -->
                        <div class="search-categories">
                            <button class="active">All</button>
                            <button>Services</button>
                            <button>Users</button>
                            <button>Orders</button>
                        </div>
                        <div class="search-results-container"></div>
                    </div>
                </div>
                
                <button id="themeToggle"><i class="fas fa-moon"></i></button>
                
                <!-- Update the notification bell HTML structure -->
                <div class="notification-bell">
                    <i class="fas fa-bell"></i>
                    <span class="notification-badge">3</span>
                    <div class="notifications-dropdown">
                        <div class="notifications-header">
                            <h3>Notifications</h3>
                            <button class="mark-all-read">Mark all as read</button>
                        </div>
                        <div class="notifications-list">
                            <!-- Notifications will be dynamically added here -->
                        </div>
                        <div class="notifications-footer">
                            <a href="#" class="view-all">View all notifications</a>
                        </div>
                    </div>
                </div>
                
                <!-- Update the profile dropdown HTML structure -->
                <div class="user-profile">
                    <div class="profile-icon">
                        <i class="fas fa-user"></i>
                    </div>
                    <div class="profile-dropdown">
                        <div class="profile-header">
                            <i class="fas fa-user profile-dropdown-icon"></i>
                            <div class="profile-info">
                                <h4 id="profileUserName">User</h4>
                                <p id="profileUserEmail">user@example.com</p>
                            </div>
                        </div>
                        <div class="profile-actions">
                            <a href="#"><i class="fas fa-user"></i> My Profile</a>
                            <a href="#"><i class="fas fa-cog"></i> Account Settings</a>
                            <a href="#"><i class="fas fa-wallet"></i> Balance & Payments</a>
                            <a href="#" id="profileLogoutBtn"><i class="fas fa-sign-out-alt"></i> Logout</a>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <!-- ADMIN DASHBOARD -->
        <section class="admin-dashboard admin-only" id="section-dashboard">
            <!-- Quick stats remain fixed -->
            <div class="quick-stats admin-stats">
                <div class="stat-card">
                    <div class="stat-icon admin-icon"><i class="fas fa-users"></i></div>
                    <div class="stat-info">
                        <h4>Total Users</h4>
                        <h2 id="totalUsers">0</h2>
                        <p class="trend positive"><i class="fas fa-arrow-up"></i> 12%</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon admin-icon"><i class="fas fa-shopping-cart"></i></div>
                    <div class="stat-info">
                        <h4>Total Orders</h4>
                        <h2 id="totalOrders">0</h2>
                        <p class="trend positive"><i class="fas fa-arrow-up"></i> 8%</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon admin-icon"><i class="fas fa-dollar-sign"></i></div>
                    <div class="stat-info">
                        <h4>Total Revenue</h4>
                        <h2 id="totalRevenue">$0</h2>
                        <p class="trend positive"><i class="fas fa-arrow-up"></i> 15%</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon admin-icon"><i class="fas fa-store"></i></div>
                    <div class="stat-info">
                        <h4>Active Gigs</h4>
                        <h2 id="activeGigs">0</h2>
                        <p class="trend positive"><i class="fas fa-arrow-up"></i> 5%</p>
                    </div>
                </div>
            </div>

            <div class="dashboard-controls">
                <button id="resetLayout" class="btn-reset"><i class="fas fa-undo"></i> Reset Layout</button>
                <p class="drag-hint"><i class="fas fa-arrows-alt"></i> Drag cards to rearrange your dashboard</p>
            </div>

            <!-- Make the grid sortable -->
            <div class="dashboard-grid sortable-grid" id="adminGrid">
                <!-- Each card needs a unique identifier -->
                <div class="card admin-users-table" data-card-id="admin-users">
                    <div class="card-header">
                        <h3>User Management</h3>
                        <button class="btn-add"><i class="fas fa-plus"></i> Add User</button>
                    </div>
                    <div class="table-container">
                        <table class="users-table">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Name</th>
                                    <th>Email</th>
                                    <th>Role</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="usersTableBody">
                                <!-- User rows will be dynamically added here -->
                            </tbody>
                        </table>
                    </div>
                    <div class="card-footer">
                        <button class="btn-pagination">Previous</button>
                        <span>Page 1 of 10</span>
                        <button class="btn-pagination">Next</button>
                    </div>
                </div>

                <div class="card admin-revenue-chart" data-card-id="admin-revenue">
                    <div class="card-header">
                        <h3>Revenue Analytics</h3>
                        <select class="time-filter">
                            <option>This Week</option>
                            <option>This Month</option>
                            <option>This Year</option>
                        </select>
                    </div>
                    <div class="chart-container">
                        <!-- Chart will be rendered here -->
                    </div>
                </div>

                <div class="card admin-recent-orders" data-card-id="admin-orders">
                    <div class="card-header">
                        <h3>Recent Orders</h3>
                        <button class="btn-more"><i class="fas fa-ellipsis-v"></i></button>
                    </div>
                    <div class="orders-list">
                        <!-- Orders will be dynamically added here -->
                    </div>
                </div>

                <div class="card admin-site-performance" data-card-id="admin-performance">
                    <div class="card-header">
                        <h3>Site Performance</h3>
                    </div>
                    <div class="performance-stats">
                        <div class="performance-item">
                            <div class="performance-info">
                                <span>Server Uptime</span>
                                <span>99.8%</span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress" style="width: 99.8%"></div>
                            </div>
                        </div>
                        <div class="performance-item">
                            <div class="performance-info">
                                <span>Response Time</span>
                                <span>245ms</span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress" style="width: 85%"></div>
                            </div>
                        </div>
                        <div class="performance-item">
                            <div class="performance-info">
                                <span>Conversion Rate</span>
                                <span>3.2%</span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress" style="width: 75%"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- PROFILE MANAGEMENT SECTION -->
        <section class="admin-section admin-only section-hidden" id="section-profiles">
            <div class="section-header">
                <h1>Gestion des Profils</h1>
                <p>Gérer les profils utilisateurs, administrateurs et partenaires de la plateforme.</p>
            </div>

            <div class="action-bar">
                <button class="action-btn primary" id="addProfileBtn"><i class="fas fa-plus"></i> Ajouter un Profil</button>
                <div class="filter-group">
                    <select id="profileTypeFilter">
                        <option value="all">Tous les types</option>
                        <option value="admin">Administrateurs</option>
                        <option value="user">Utilisateurs</option>
                        <option value="partner">Partenaires</option>
                    </select>
                    <select id="profileStatusFilter">
                        <option value="all">Tous les statuts</option>
                        <option value="active">Actifs</option>
                        <option value="inactive">Inactifs</option>
                        <option value="pending">En attente</option>
                    </select>
                </div>
            </div>

            <div class="table-container">
                <table class="data-table" id="profilesTable">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Nom</th>
                            <th>Email</th>
                            <th>Type</th>
                            <th>Statut</th>
                            <th>Date d'inscription</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Profiles will be loaded dynamically -->
                    </tbody>
                </table>
            </div>

            <div class="pagination">
                <button class="pagination-btn" id="prevPage"><i class="fas fa-chevron-left"></i></button>
                <span id="pageIndicator">Page 1 sur 10</span>
                <button class="pagination-btn" id="nextPage"><i class="fas fa-chevron-right"></i></button>
            </div>

            <!-- Profile Form Dialog -->
            <div class="modal-overlay" id="profileFormOverlay">
                <div class="modal-container">
                    <div class="modal-header">
                        <h3 id="profileFormTitle">Ajouter un Profil</h3>
                        <button class="close-modal"><i class="fas fa-times"></i></button>
                    </div>
                    <div class="modal-body">
                        <form id="profileForm">
                            <div class="form-group">
                                <label for="profileName">Nom complet</label>
                                <input type="text" id="profileName" required>
                            </div>
                            <div class="form-group">
                                <label for="profileEmail">Email</label>
                                <input type="email" id="profileEmail" required>
                            </div>
                            <div class="form-group">
                                <label for="profileType">Type</label>
                                <select id="profileType" required>
                                    <option value="user">Utilisateur</option>
                                    <option value="admin">Administrateur</option>
                                    <option value="partner">Partenaire</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="profileStatus">Statut</label>
                                <select id="profileStatus" required>
                                    <option value="active">Actif</option>
                                    <option value="inactive">Inactif</option>
                                    <option value="pending">En attente</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="profilePassword">Mot de passe</label>
                                <input type="password" id="profilePassword">
                                <small>Laissez vide pour conserver le mot de passe actuel (modification).</small>
                            </div>
                            <input type="hidden" id="profileId">
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button class="btn-cancel">Annuler</button>
                        <button class="btn-submit" id="saveProfileBtn">Enregistrer</button>
                    </div>
                </div>
            </div>

            <!-- Confirmation Dialog -->
            <div class="modal-overlay" id="confirmDeleteOverlay">
                <div class="modal-container">
                    <div class="modal-header">
                        <h3>Confirmer la suppression</h3>
                        <button class="close-modal"><i class="fas fa-times"></i></button>
                    </div>
                    <div class="modal-body">
                        <p>Êtes-vous sûr de vouloir supprimer ce profil ? Cette action est irréversible.</p>
                    </div>
                    <div class="modal-footer">
                        <button class="btn-cancel">Annuler</button>
                        <button class="btn-danger" id="confirmDeleteBtn">Supprimer</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- PROJECT MANAGEMENT SECTION -->
        <section class="admin-section admin-only section-hidden" id="section-projects">
            <div class="section-header">
                <h1>Gestion des Projets</h1>
                <p>Gérer tous les projets en cours, terminés et à venir.</p>
            </div>

            <div class="action-bar">
                <button class="action-btn primary" id="addProjectBtn"><i class="fas fa-plus"></i> Créer un Projet</button>
                <div class="filter-group">
                    <select id="projectStatusFilter">
                        <option value="all">Tous les statuts</option>
                        <option value="active">En cours</option>
                        <option value="completed">Terminés</option>
                        <option value="planned">Planifiés</option>
                    </select>
                    <select id="projectTypeFilter">
                        <option value="all">Tous les types</option>
                        <option value="development">Développement</option>
                        <option value="design">Design</option>
                        <option value="marketing">Marketing</option>
                    </select>
                </div>
            </div>

            <div class="projects-grid" id="projectsContainer">
                <!-- Projects will be loaded dynamically -->
            </div>

            <!-- Project Form Dialog -->
            <div class="modal-overlay" id="projectFormOverlay">
                <div class="modal-container">
                    <div class="modal-header">
                        <h3 id="projectFormTitle">Créer un Projet</h3>
                        <button class="close-modal"><i class="fas fa-times"></i></button>
                    </div>
                    <div class="modal-body">
                        <form id="projectForm">
                            <div class="form-group">
                                <label for="projectName">Nom du projet</label>
                                <input type="text" id="projectName" required>
                            </div>
                            <div class="form-group">
                                <label for="projectDescription">Description</label>
                                <textarea id="projectDescription" rows="3" required></textarea>
                            </div>
                            <div class="form-group">
                                <label for="projectType">Type</label>
                                <select id="projectType" required>
                                    <option value="development">Développement</option>
                                    <option value="design">Design</option>
                                    <option value="marketing">Marketing</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="projectStatus">Statut</label>
                                <select id="projectStatus" required>
                                    <option value="active">En cours</option>
                                    <option value="completed">Terminé</option>
                                    <option value="planned">Planifié</option>
                                </select>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="projectStartDate">Date de début</label>
                                    <input type="date" id="projectStartDate" required>
                                </div>
                                <div class="form-group">
                                    <label for="projectEndDate">Date de fin</label>
                                    <input type="date" id="projectEndDate">
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="projectTeam">Équipe</label>
                                <select id="projectTeam" multiple>
                                    <!-- Team members will be loaded dynamically -->
                                </select>
                            </div>
                            <input type="hidden" id="projectId">
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button class="btn-cancel">Annuler</button>
                        <button class="btn-submit" id="saveProjectBtn">Enregistrer</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- PAYMENT MANAGEMENT SECTION -->
        <section class="admin-section admin-only section-hidden" id="section-payments">
            <div class="section-header">
                <h1>Gestion du Système de Paiement</h1>
                <p>Gérer les transactions, les méthodes de paiement et la facturation.</p>
            </div>

            <div class="stats-container">
                <div class="stat-card">
                    <div class="stat-icon payment-icon"><i class="fas fa-euro-sign"></i></div>
                    <div class="stat-info">
                        <h4>Chiffre d'affaires total</h4>
                        <h2 id="totalRevenueStat">0 €</h2>
                        <p class="trend positive"><i class="fas fa-arrow-up"></i> 8%</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon payment-icon"><i class="fas fa-exchange-alt"></i></div>
                    <div class="stat-info">
                        <h4>Transactions ce mois</h4>
                        <h2 id="monthlyTransactionsStat">0</h2>
                        <p class="trend positive"><i class="fas fa-arrow-up"></i> 12%</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon payment-icon"><i class="fas fa-money-bill-wave"></i></div>
                    <div class="stat-info">
                        <h4>Solde en attente</h4>
                        <h2 id="pendingBalanceStat">0 €</h2>
                        <p class="trend negative"><i class="fas fa-arrow-down"></i> 3%</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon payment-icon"><i class="fas fa-file-invoice"></i></div>
                    <div class="stat-info">
                        <h4>Factures impayées</h4>
                        <h2 id="unpaidInvoicesStat">0</h2>
                        <p class="trend stable"><i class="fas fa-equals"></i> Stable</p>
                    </div>
                </div>
            </div>

            <div class="tab-container">
                <div class="tabs">
                    <button class="tab-btn active" data-tab="transactions">Transactions</button>
                    <button class="tab-btn" data-tab="invoices">Factures</button>
                    <button class="tab-btn" data-tab="payment-methods">Méthodes de paiement</button>
                </div>

                <div class="tab-content active" id="transactions-tab">
                    <div class="action-bar">
                        <button class="action-btn" id="exportTransactionsBtn"><i class="fas fa-file-export"></i> Exporter</button>
                        <div class="filter-group">
                            <select id="transactionTypeFilter">
                                <option value="all">Tous les types</option>
                                <option value="income">Revenus</option>
                                <option value="expense">Dépenses</option>
                                <option value="refund">Remboursements</option>
                            </select>
                            <input type="date" id="transactionDateFilter" placeholder="Date">
                        </div>
                    </div>

                    <div class="table-container">
                        <table class="data-table" id="transactionsTable">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Date</th>
                                    <th>Client</th>
                                    <th>Montant</th>
                                    <th>Type</th>
                                    <th>Statut</th>
                                    <th>Méthode</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- Transactions will be loaded dynamically -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="tab-content" id="invoices-tab">
                    <div class="action-bar">
                        <button class="action-btn primary" id="addInvoiceBtn"><i class="fas fa-plus"></i> Nouvelle Facture</button>
                        <div class="filter-group">
                            <select id="invoiceStatusFilter">
                                <option value="all">Tous les statuts</option>
                                <option value="paid">Payées</option>
                                <option value="unpaid">Impayées</option>
                                <option value="overdue">En retard</option>
                            </select>
                        </div>
                    </div>

                    <div class="table-container">
                        <table class="data-table" id="invoicesTable">
                            <thead>
                                <tr>
                                    <th>N° Facture</th>
                                    <th>Client</th>
                                    <th>Date</th>
                                    <th>Échéance</th>
                                    <th>Montant</th>
                                    <th>Statut</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- Invoices will be loaded dynamically -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="tab-content" id="payment-methods-tab">
                    <div class="action-bar">
                        <button class="action-btn primary" id="addPaymentMethodBtn"><i class="fas fa-plus"></i> Ajouter une méthode</button>
                    </div>

                    <div class="payment-methods-grid" id="paymentMethodsContainer">
                        <!-- Payment methods will be loaded dynamically -->
                    </div>
                </div>
            </div>
        </section>

        <!-- BLOG & RESOURCES MANAGEMENT SECTION -->
        <section class="admin-section admin-only section-hidden" id="section-blog">
            <div class="section-header">
                <h1>Gestion du Blog et des Ressources</h1>
                <p>Gérer les articles, tutoriels et ressources documentaires.</p>
            </div>

            <div class="tab-container">
                <div class="tabs">
                    <button class="tab-btn active" data-tab="posts">Articles</button>
                    <button class="tab-btn" data-tab="categories">Catégories</button>
                    <button class="tab-btn" data-tab="resources">Ressources</button>
                </div>

                <div class="tab-content active" id="posts-tab">
                    <div class="action-bar">
                        <button class="action-btn primary" id="addPostBtn"><i class="fas fa-plus"></i> Nouvel Article</button>
                        <div class="filter-group">
                            <select id="postCategoryFilter">
                                <option value="all">Toutes les catégories</option>
                                <!-- Categories will be loaded dynamically -->
                            </select>
                            <select id="postStatusFilter">
                                <option value="all">Tous les statuts</option>
                                <option value="published">Publiés</option>
                                <option value="draft">Brouillons</option>
                                <option value="scheduled">Programmés</option>
                            </select>
                        </div>
                    </div>

                    <div class="table-container">
                        <table class="data-table" id="postsTable">
                            <thead>
                                <tr>
                                    <th>Titre</th>
                                    <th>Catégorie</th>
                                    <th>Auteur</th>
                                    <th>Date</th>
                                    <th>Statut</th>
                                    <th>Vues</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- Posts will be loaded dynamically -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="tab-content" id="categories-tab">
                    <div class="action-bar">
                        <button class="action-btn primary" id="addCategoryBtn"><i class="fas fa-plus"></i> Nouvelle Catégorie</button>
                    </div>

                    <div class="categories-grid" id="categoriesContainer">
                        <!-- Categories will be loaded dynamically -->
                    </div>
                </div>

                <div class="tab-content" id="resources-tab">
                    <div class="action-bar">
                        <button class="action-btn primary" id="addResourceBtn"><i class="fas fa-plus"></i> Nouvelle Ressource</button>
                        <div class="filter-group">
                            <select id="resourceTypeFilter">
                                <option value="all">Tous les types</option>
                                <option value="pdf">PDF</option>
                                <option value="video">Vidéo</option>
                                <option value="template">Template</option>
                            </select>
                        </div>
                    </div>

                    <div class="resources-grid" id="resourcesContainer">
                        <!-- Resources will be loaded dynamically -->
                    </div>
                </div>
            </div>
        </section>

        <!-- SUPPORT & ASSISTANCE MANAGEMENT SECTION -->
        <section class="admin-section admin-only section-hidden" id="section-support">
            <div class="section-header">
                <h1>Gestion du Support et de l'Assistance</h1>
                <p>Gérer les tickets d'assistance, les FAQ et les demandes des utilisateurs.</p>
            </div>

            <div class="stats-container">
                <div class="stat-card">
                    <div class="stat-icon support-icon"><i class="fas fa-ticket-alt"></i></div>
                    <div class="stat-info">
                        <h4>Tickets ouverts</h4>
                        <h2 id="openTicketsStat">0</h2>
                        <p class="trend negative"><i class="fas fa-arrow-up"></i> 5%</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon support-icon"><i class="fas fa-clock"></i></div>
                    <div class="stat-info">
                        <h4>Temps de réponse moyen</h4>
                        <h2 id="responseTimeStat">0h</h2>
                        <p class="trend positive"><i class="fas fa-arrow-down"></i> 10%</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon support-icon"><i class="fas fa-check-circle"></i></div>
                    <div class="stat-info">
                        <h4>Tickets résolus (mois)</h4>
                        <h2 id="resolvedTicketsStat">0</h2>
                        <p class="trend positive"><i class="fas fa-arrow-up"></i> 15%</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon support-icon"><i class="fas fa-smile"></i></div>
                    <div class="stat-info">
                        <h4>Taux de satisfaction</h4>
                        <h2 id="satisfactionRateStat">0%</h2>
                        <p class="trend positive"><i class="fas fa-arrow-up"></i> 2%</p>
                    </div>
                </div>
            </div>

            <div class="tab-container">
                <div class="tabs">
                    <button class="tab-btn active" data-tab="tickets">Tickets</button>
                    <button class="tab-btn" data-tab="faq">FAQ</button>
                    <button class="tab-btn" data-tab="knowledge-base">Base de Connaissances</button>
                </div>

                <div class="tab-content active" id="tickets-tab">
                    <div class="action-bar">
                        <div class="filter-group">
                            <select id="ticketStatusFilter">
                                <option value="all">Tous les statuts</option>
                                <option value="open">Ouverts</option>
                                <option value="in-progress">En cours</option>
                                <option value="resolved">Résolus</option>
                                <option value="closed">Fermés</option>
                            </select>
                            <select id="ticketPriorityFilter">
                                <option value="all">Toutes les priorités</option>
                                <option value="low">Basse</option>
                                <option value="medium">Moyenne</option>
                                <option value="high">Haute</option>
                                <option value="urgent">Urgente</option>
                            </select>
                        </div>
                    </div>

                    <div class="table-container">
                        <table class="data-table" id="ticketsTable">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Sujet</th>
                                    <th>Utilisateur</th>
                                    <th>Date</th>
                                    <th>Dernière réponse</th>
                                    <th>Priorité</th>
                                    <th>Statut</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- Tickets will be loaded dynamically -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="tab-content" id="faq-tab">
                    <div class="action-bar">
                        <button class="action-btn primary" id="addFaqBtn"><i class="fas fa-plus"></i> Ajouter FAQ</button>
                        <div class="filter-group">
                            <select id="faqCategoryFilter">
                                <option value="all">Toutes les catégories</option>
                                <option value="general">Général</option>
                                <option value="account">Compte</option>
                                <option value="billing">Facturation</option>
                                <option value="services">Services</option>
                            </select>
                        </div>
                    </div>

                    <div class="faq-list" id="faqContainer">
                        <!-- FAQ items will be loaded dynamically -->
                    </div>
                </div>

                <div class="tab-content" id="knowledge-base-tab">
                    <div class="action-bar">
                        <button class="action-btn primary" id="addKnowledgeBaseBtn"><i class="fas fa-plus"></i> Ajouter Article</button>
                        <div class="filter-group">
                            <select id="kbCategoryFilter">
                                <option value="all">Toutes les catégories</option>
                                <option value="tutorial">Tutoriels</option>
                                <option value="guide">Guides</option>
                                <option value="troubleshooting">Dépannage</option>
                            </select>
                        </div>
                    </div>

                    <div class="kb-grid" id="knowledgeBaseContainer">
                        <!-- Knowledge base articles will be loaded dynamically -->
                    </div>
                </div>
            </div>
        </section>

        <!-- JOB OFFERS MANAGEMENT SECTION -->
        <section class="admin-section admin-only section-hidden" id="section-jobs">
            <div class="section-header">
                <h1>Gestion des Offres d'Emploi</h1>
                <p>Créer et gérer les offres d'emploi, candidatures et recrutements.</p>
            </div>

            <div class="action-bar">
                <button class="action-btn primary" id="addJobBtn"><i class="fas fa-plus"></i> Nouvelle Offre</button>
                <div class="filter-group">
                    <select id="jobDepartmentFilter">
                        <option value="all">Tous les départements</option>
                        <option value="development">Développement</option>
                        <option value="design">Design</option>
                        <option value="marketing">Marketing</option>
                        <option value="sales">Ventes</option>
                        <option value="support">Support</option>
                    </select>
                    <select id="jobStatusFilter">
                        <option value="all">Tous les statuts</option>
                        <option value="active">Active</option>
                        <option value="draft">Brouillon</option>
                        <option value="closed">Fermée</option>
                    </select>
                </div>
            </div>

            <div class="tab-container">
                <div class="tabs">
                    <button class="tab-btn active" data-tab="job-offers">Offres d'emploi</button>
                    <button class="tab-btn" data-tab="applications">Candidatures</button>
                    <button class="tab-btn" data-tab="reports">Rapports</button>
                </div>

                <div class="tab-content active" id="job-offers-tab">
                    <div class="jobs-grid" id="jobOffersContainer">
                        <!-- Job offers will be loaded dynamically -->
                    </div>
                </div>

                <div class="tab-content" id="applications-tab">
                    <div class="table-container">
                        <table class="data-table" id="applicationsTable">
                            <thead>
                                <tr>
                                    <th>Candidat</th>
                                    <th>Poste</th>
                                    <th>Date</th>
                                    <th>Expérience</th>
                                    <th>Statut</th>
                                    <th>Correspondance</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- Applications will be loaded dynamically -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="tab-content" id="reports-tab">
                    <div class="analytics-cards">
                        <div class="analytics-card">
                            <h3>Applications par poste</h3>
                            <div class="chart-container" id="applicationsPerJobChart">
                                <!-- Chart will be rendered here -->
                            </div>
                        </div>
                        <div class="analytics-card">
                            <h3>Taux de conversion du recrutement</h3>
                            <div class="chart-container" id="recruitmentConversionChart">
                                <!-- Chart will be rendered here -->
                            </div>
                        </div>
                        <div class="analytics-card">
                            <h3>Temps moyen de recrutement</h3>
                            <div class="chart-container" id="avgRecruitmentTimeChart">
                                <!-- Chart will be rendered here -->
                            </div>
                        </div>
                        <div class="analytics-card">
                            <h3>Sources des candidatures</h3>
                            <div class="chart-container" id="applicationSourcesChart">
                                <!-- Chart will be rendered here -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- USER SECTIONS -->
        <!-- MY PROFILE SECTION -->
        <section class="user-section user-only section-hidden" id="section-myprofile">
            <div class="section-header">
                <h1>Mon Profil</h1>
                <p>Gérer vos informations personnelles et paramètres de compte.</p>
            </div>

            <div class="profile-container">
                <div class="profile-sidebar">
                    <div class="profile-image-container">
                        <img src="https://via.placeholder.com/150" alt="Photo de profil" id="userProfileImage">
                        <button class="change-photo-btn"><i class="fas fa-camera"></i></button>
                    </div>
                    <h3 id="userProfileName">John Doe</h3>
                    <p id="userProfileRole">Developer</p>
                    <div class="profile-completion">
                        <span>Profil complété à 85%</span>
                        <div class="progress-bar">
                            <div class="progress" style="width: 85%"></div>
                        </div>
                    </div>
                    <div class="profile-nav">
                        <a href="#" class="active" data-profile-tab="info">Informations personnelles</a>
                        <a href="#" data-profile-tab="portfolio">Portfolio & Compétences</a>
                        <a href="#" data-profile-tab="security">Sécurité</a>
                        <a href="#" data-profile-tab="preferences">Préférences</a>
                    </div>
                </div>
                <div class="profile-content">
                    <div class="profile-tab active" id="profile-info-tab">
                        <h2>Informations personnelles</h2>
                        <form id="personalInfoForm">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="userFirstName">Prénom</label>
                                    <input type="text" id="userFirstName" value="John">
                                </div>
                                <div class="form-group">
                                    <label for="userLastName">Nom</label>
                                    <input type="text" id="userLastName" value="Doe">
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="userEmail">Email</label>
                                <input type="email" id="userEmail" value="john.doe@example.com">
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="userPhone">Téléphone</label>
                                    <input type="tel" id="userPhone" value="+33 6 12 34 56 78">
                                </div>
                                <div class="form-group">
                                    <label for="userLocation">Localisation</label>
                                    <input type="text" id="userLocation" value="Paris, France">
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="userBio">Bio</label>
                                <textarea id="userBio" rows="4">Développeur web passionné avec 5 ans d'expérience en création d'applications web modernes et responsives.</textarea>
                            </div>
                            <button type="submit" class="btn-submit">Sauvegarder les changements</button>
                        </form>
                    </div>
                    
                    <div class="profile-tab" id="profile-portfolio-tab">
                        <!-- Portfolio tab content will be added here -->
                    </div>
                    
                    <div class="profile-tab" id="profile-security-tab">
                        <!-- Security tab content will be added here -->
                    </div>
                    
                    <div class="profile-tab" id="profile-preferences-tab">
                        <!-- Preferences tab content will be added here -->
                    </div>
                </div>
            </div>
        </section>

        <!-- Other user sections would be added here -->

        <!-- USER DASHBOARD -->
        <section class="user-dashboard user-only" id="section-dashboard">
            <!-- Quick stats remain fixed -->
            <div class="quick-stats">
                <div class="stat-card">
                    <div class="stat-icon"><i class="fas fa-dollar-sign"></i></div>
                    <div class="stat-info">
                        <h4>Total Earnings</h4>
                        <h2 class="user-earnings-value">$0</h2>
                        <p class="trend positive"><i class="fas fa-arrow-up"></i> 18%</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon"><i class="fas fa-shopping-bag"></i></div>
                    <div class="stat-info">
                        <h4>Active Orders</h4>
                        <h2 class="user-orders-value">0</h2>
                        <p class="trend positive"><i class="fas fa-arrow-up"></i> 5%</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon"><i class="fas fa-star"></i></div>
                    <div class="stat-info">
                        <h4>Rating</h4>
                        <h2 class="user-rating-value">0</h2>
                        <p class="trend stable"><i class="fas fa-equals"></i> Stable</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon"><i class="fas fa-users"></i></div>
                    <div class="stat-info">
                        <h4>Total Clients</h4>
                        <h2 class="user-clients-value">0</h2>
                        <p class="trend positive"><i class="fas fa-arrow-up"></i> 15%</p>
                    </div>
                </div>
            </div>

            <div class="dashboard-controls">
                <button id="userResetLayout" class="btn-reset"><i class="fas fa-undo"></i> Reset Layout</button>
                <p class="drag-hint"><i class="fas fa-arrows-alt"></i> Drag cards to rearrange your dashboard</p>
            </div>

            <!-- Make the grid sortable -->
            <div class="dashboard-grid sortable-grid" id="userGrid">
                <div class="card user-orders" data-card-id="user-orders">
                    <div class="card-header">
                        <h3>Recent Orders</h3>
                        <button class="btn-more"><i class="fas fa-ellipsis-v"></i></button>
                    </div>
                    <div class="orders-list">
                        <!-- Orders will be dynamically added here -->
                    </div>
                </div>

                <div class="card user-activity" data-card-id="user-activity">
                    <div class="card-header">
                        <h3>Marketplace Activity</h3>
                    </div>
                    <div class="activity-feed">
                        <!-- Activities will be dynamically added here -->
                    </div>
                </div>

                <div class="card user-services" data-card-id="user-services">
                    <div class="card-header">
                        <h3>Your Services</h3>
                        <button class="btn-add"><i class="fas fa-plus"></i> New Service</button>
                    </div>
                    <div class="services-grid">
                        <!-- Services will be dynamically added here -->
                    </div>
                </div>

                <div class="card user-earnings-chart" data-card-id="user-earnings">
                    <div class="card-header">
                        <h3>Earnings Overview</h3>
                        <select class="time-filter">
                            <option>This Week</option>
                            <option>This Month</option>
                            <option>This Year</option>
                        </select>
                    </div>
                    <div class="chart-container">
                        <!-- Chart will be rendered here -->
                    </div>
                </div>
            </div>
        </section>
    </main>

    <script src="dashboard.js"></script>
</body>
</html>
